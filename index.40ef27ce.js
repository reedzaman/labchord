function e(e,t,n,l){Object.defineProperty(e,t,{get:n,set:l,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},l={},o={},i=n.parcelRequire5589;null==i&&((i=function(e){if(e in l)return l[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return l[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},n.parcelRequire5589=i),i.register("27Lyk",(function(t,n){var l,o;e(t.exports,"register",(()=>l),(e=>l=e)),e(t.exports,"resolve",(()=>o),(e=>o=e));var i={};l=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},o=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i.register("6H7VJ",(function(t,n){e(t.exports,"handleSubmission",(()=>u));var l=i("eSQOb"),o=i("jjlwn"),d=i("7BOf4");let s="",a="Anonymous";const r=document.getElementById("msgForm"),m=document.getElementById("textInputBox"),c=document.querySelector('input[type="file"]');function u(){""===s?m.value.length>0&&((0,o.addOwnMsg)(m.value,"text"),l.socket.emit("send",m.value,"text"),m.value=""):((0,o.addOwnMsg)(s,"image"),l.socket.emit("send",s,"image"),s="",document.getElementById("imageInputButton").value="",document.getElementById("textInputBox").style.width="75%",document.getElementById("textInputBox").removeAttribute("disabled"),document.getElementById("textInputBox").focus(),document.getElementById("imagePreviewWrapper").style.display="none")}document.getElementById("sendNameForm").addEventListener("submit",(()=>{let e=document.getElementById("username").value,t=document.getElementById("profileImg"),n=document.getElementById("profileName");""!==e&&(a=e),l.socket.emit("setName",a),t.src=`https://icotar.com/avatar/${a.replace(/ /g,"+")}`,t.style.visibility="unset",n.innerText=a,n.style.visibility="unset",document.getElementsByClassName("name-box")[0].style.display="none",document.getElementsByClassName("main-box")[0].style.display="flex",document.getElementsByClassName("msg-input")[0].focus()})),document.querySelector("#theme").addEventListener("click",(()=>{(0,d.toggleTheme)()})),document.querySelector("#imageClose").addEventListener("click",(()=>{s="",document.querySelector("#imagePreview").src="",document.querySelector("#imagePreviewWrapper").style.display="none",document.getElementById("textInputBox").removeAttribute("disabled"),document.getElementById("imageInputButton").value="",document.getElementById("textInputBox").style.width="75%",document.getElementById("textInputBox").focus()})),document.addEventListener("click",(e=>{let t=e.target.id;document.querySelector("#emoji-picker-wrapper");if("showemoji"===t||"showemoji_icon"===t){let e=document.querySelector("#emoji-picker-wrapper").style.display;document.querySelector("#emoji-picker-wrapper").style.display="none"===e||""===e?"flex":"none"}else"emo_picker"!==t&&(document.querySelector("#emoji-picker-wrapper").style.display="none")})),document.querySelector("emoji-picker").addEventListener("emoji-click",(e=>{document.querySelector("textarea").value=`${document.querySelector("textarea").value}${e.detail.unicode}`})),r.addEventListener("submit",(e=>{u()})),c.addEventListener("change",(e=>{let t=document.createElement("canvas"),n=t.getContext("2d");const l=new FileReader;l.onload=()=>{let e,o,i;const d=new Image;d.src=l.result,d.onload=()=>{e=d.naturalHeight,o=d.naturalWidth,i=e/o,t.width=220,t.height=t.width*i,n.drawImage(d,0,0,t.width,t.height),s=t.toDataURL(),console.log(s)},document.getElementById("imagePreview").src=l.result,document.getElementById("imagePreviewWrapper").style.display="unset",document.getElementById("textInputBox").style.width=window.innerWidth<=600?"40%":"65%",document.getElementById("textInputBox").disabled=!0},l.readAsDataURL(c.files[0])}),!1)})),i.register("jjlwn",(function(t,n){e(t.exports,"addNotification",(()=>o)),e(t.exports,"addMsg",(()=>i)),e(t.exports,"addOwnMsg",(()=>d));let l="";function o(e){if("flex"===document.getElementsByClassName("main-box")[0].style.display){let t=document.createElement("div"),n=document.getElementsByClassName("msg-box")[0];t.classList.add("notification"),t.innerText=e,n.appendChild(t),l="notification",n.scrollTop=n.scrollHeight}}function i(e,t,n,o){if("flex"===document.getElementsByClassName("main-box")[0].style.display){let i=document.getElementsByClassName("msg-box")[0],d=document.createElement("h1");d.classList.add("owner-name"),l!==n&&(d.innerText=t);let s=document.createElement("div");s.classList.add("owner-photo-image"),l!==n&&(s.style.backgroundImage=`url('https://icotar.com/avatar/${t.replace(/ /g,"+")}')`);let a=document.createElement("div");a.classList.add("owner-photo"),a.appendChild(s);let r=document.createElement("div");if(r.classList.add("msg-content"),"text"===o){let t=document.createElement("div");t.classList.add("msg-text"),t.innerText=e,r.appendChild(a),r.appendChild(t)}else if("image"===o){let t=document.createElement("img");t.classList.add("msg-image"),t.src=e,r.appendChild(a),r.appendChild(t)}let m=document.createElement("div");m.classList.add("msg-block"),l===n&&m.classList.add("msg-block-close"),m.appendChild(d),m.appendChild(r),l!==n&&(l=n),i.appendChild(m),i.scrollTop=i.scrollHeight}}function d(e,t){if("flex"===document.getElementsByClassName("main-box")[0].style.display){let n=document.getElementsByClassName("msg-box")[0],o=document.createElement("div");if(o.classList.add("msg-content"),"text"===t){let t=document.createElement("div");t.classList.add("msg-text"),t.innerText=e,o.appendChild(t)}else if("image"===t){let t=document.createElement("img");t.classList.add("msg-image"),t.src=e,o.appendChild(t)}let i=document.createElement("div");i.classList.add("msg-block"),i.classList.add("msg-block-own"),"own"===l&&i.classList.add("msg-block-close"),i.appendChild(o),l="own",n.appendChild(i),n.scrollTop=n.scrollHeight}}})),i.register("7BOf4",(function(n,l){e(n.exports,"updateTyping",(()=>d)),e(n.exports,"toggleTheme",(()=>s));var o=i("b1Ml2");function d(e){let n=document.getElementsByClassName("typing-indicator")[0],l=Object.values(e);if(l=l.map((e=>e.split(" ")[0])),l.length>1){let e=l.pop();l.push(l.pop()+" and"),l.push(e)}let i=l.toString();if(i=i.toString().replace(/,/g,", "),console.log(i),i=l.length>1?`${i} are typing`:1===l.length?`${i} is typing`:"",n.innerText=i,""!==i){let e=document.createElement("img");e.src=t(o),e.style.width="30px",e.style.height="15px",e.style.marginTop="auto",n.appendChild(e)}}function s(){let e=document.getElementById("themeIcon"),t=document.getElementsByTagName("body")[0],n=document.getElementById("emo_picker");t.classList.toggle("dark"),"light_mode"===e.innerText?e.innerText="dark_mode":e.innerText="light_mode",n.classList.contains("dark")?(n.classList.remove("dark"),n.classList.add("light")):(n.classList.remove("light"),n.classList.add("dark"))}})),i.register("b1Ml2",(function(e,t){e.exports=new URL(i("27Lyk").resolve("9KfHt"),import.meta.url).toString()})),i("27Lyk").register(JSON.parse('{"iMvnY":"index.40ef27ce.js","9KfHt":"typing.8088fbee.gif"}')),i("6H7VJ");
//# sourceMappingURL=index.40ef27ce.js.map
