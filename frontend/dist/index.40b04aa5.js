function e(e,t,n,l){Object.defineProperty(e,t,{get:n,set:l,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},l={},d={},o=n.parcelRequire5589;null==o&&((o=function(e){if(e in l)return l[e].exports;if(e in d){var t=d[e];delete d[e];var n={id:e,exports:{}};return l[e]=n,t.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){d[e]=t},n.parcelRequire5589=o),o.register("27Lyk",(function(t,n){var l,d;e(t.exports,"register",(()=>l),(e=>l=e)),e(t.exports,"resolve",(()=>d),(e=>d=e));var o={};l=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)o[t[n]]=e[t[n]]},d=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o.register("6H7VJ",(function(t,n){e(t.exports,"handleSubmission",(()=>u));var l=o("eSQOb"),d=o("jjlwn"),s=o("7BOf4");let i="",a="Anonymous";const m=document.getElementById("msgForm"),r=document.getElementById("textInputBox"),c=document.querySelector('input[type="file"]');function u(){""===i?r.value.length>0&&((0,d.addOwnMsg)(r.value,"text"),l.socket.emit("send",r.value,"text"),r.value=""):((0,d.addOwnMsg)(i,"image"),l.socket.emit("send",i,"image"),i="",document.getElementById("imageInputButton").value="",document.getElementById("textInputBox").style.width="75%",document.getElementById("textInputBox").removeAttribute("disabled"),document.getElementById("textInputBox").focus(),document.getElementById("imagePreviewWrapper").style.display="none")}document.getElementById("sendNameForm").addEventListener("submit",(()=>{let e=document.getElementById("username").value,t=document.getElementById("profileImg"),n=document.getElementById("profileName");""!==e&&(a=e),l.socket.emit("setName",a),t.src=`https://icotar.com/avatar/${a.replace(/ /g,"+")}`,t.style.visibility="unset",n.innerText=a,n.style.visibility="unset",document.getElementsByClassName("name-box")[0].style.display="none",document.getElementsByClassName("main-box")[0].style.display="flex",document.getElementsByClassName("msg-input")[0].focus()})),document.querySelector("#theme").addEventListener("click",(()=>{(0,s.toggleTheme)()})),document.querySelector("#imageClose").addEventListener("click",(()=>{i="",document.querySelector("#imagePreview").src="",document.querySelector("#imagePreviewWrapper").style.display="none",document.getElementById("textInputBox").removeAttribute("disabled"),document.getElementById("imageInputButton").value="",document.getElementById("textInputBox").style.width="75%",document.getElementById("textInputBox").focus()})),m.addEventListener("submit",(e=>{u()})),c.addEventListener("change",(e=>{let t=document.createElement("canvas"),n=t.getContext("2d");const l=new FileReader;l.onload=()=>{let e,d,o;const s=new Image;s.src=l.result,s.onload=()=>{e=s.naturalHeight,d=s.naturalWidth,o=e/d,t.width=220,t.height=t.width*o,n.drawImage(s,0,0,t.width,t.height),i=t.toDataURL(),console.log(i)},document.getElementById("imagePreview").src=l.result,document.getElementById("imagePreviewWrapper").style.display="unset",document.getElementById("textInputBox").style.width=window.innerWidth<=600?"40%":"65%",document.getElementById("textInputBox").disabled=!0},l.readAsDataURL(c.files[0])}),!1)})),o.register("jjlwn",(function(t,n){e(t.exports,"addNotification",(()=>d)),e(t.exports,"addMsg",(()=>o)),e(t.exports,"addOwnMsg",(()=>s));let l="";function d(e){if("flex"===document.getElementsByClassName("main-box")[0].style.display){let t=document.createElement("div"),n=document.getElementsByClassName("msg-box")[0];t.classList.add("notification"),t.innerText=e,n.appendChild(t),l="notification",n.scrollTop=n.scrollHeight}}function o(e,t,n,d){if("flex"===document.getElementsByClassName("main-box")[0].style.display){let o=document.getElementsByClassName("msg-box")[0],s=document.createElement("h1");s.classList.add("owner-name"),l!==n&&(s.innerText=t);let i=document.createElement("div");i.classList.add("owner-photo-image"),l!==n&&(i.style.backgroundImage=`url('https://icotar.com/avatar/${t.replace(/ /g,"+")}')`);let a=document.createElement("div");a.classList.add("owner-photo"),a.appendChild(i);let m=document.createElement("div");if(m.classList.add("msg-content"),"text"===d){let t=document.createElement("div");t.classList.add("msg-text"),t.innerText=e,m.appendChild(a),m.appendChild(t)}else if("image"===d){let t=document.createElement("img");t.classList.add("msg-image"),t.src=e,m.appendChild(a),m.appendChild(t)}let r=document.createElement("div");r.classList.add("msg-block"),l===n&&r.classList.add("msg-block-close"),r.appendChild(s),r.appendChild(m),l!==n&&(l=n),o.appendChild(r),o.scrollTop=o.scrollHeight}}function s(e,t){if("flex"===document.getElementsByClassName("main-box")[0].style.display){let n=document.getElementsByClassName("msg-box")[0],d=document.createElement("div");if(d.classList.add("msg-content"),"text"===t){let t=document.createElement("div");t.classList.add("msg-text"),t.innerText=e,d.appendChild(t)}else if("image"===t){let t=document.createElement("img");t.classList.add("msg-image"),t.src=e,d.appendChild(t)}let o=document.createElement("div");o.classList.add("msg-block"),o.classList.add("msg-block-own"),"own"===l&&o.classList.add("msg-block-close"),o.appendChild(d),l="own",n.appendChild(o),n.scrollTop=n.scrollHeight}}})),o.register("7BOf4",(function(n,l){e(n.exports,"updateTyping",(()=>s)),e(n.exports,"toggleTheme",(()=>i));var d=o("b1Ml2");function s(e){let n=document.getElementsByClassName("typing-indicator")[0],l=Object.values(e);if(l=l.map((e=>e.split(" ")[0])),l.length>1){let e=l.pop();l.push(l.pop()+" and"),l.push(e)}let o=l.toString();if(o=o.toString().replace(/,/g,", "),console.log(o),o=l.length>1?`${o} are typing`:1===l.length?`${o} is typing`:"",n.innerText=o,""!==o){let e=document.createElement("img");e.src=t(d),e.style.width="30px",e.style.height="15px",e.style.marginTop="auto",n.appendChild(e)}}function i(){let e=document.getElementById("themeIcon");document.getElementsByTagName("body")[0].classList.toggle("dark"),"light_mode"===e.innerText?e.innerText="dark_mode":e.innerText="light_mode"}})),o.register("b1Ml2",(function(e,t){e.exports=new URL(o("27Lyk").resolve("9KfHt"),import.meta.url).toString()})),o("27Lyk").register(JSON.parse('{"iMvnY":"index.40b04aa5.js","9KfHt":"typing.8088fbee.gif"}')),o("6H7VJ");
//# sourceMappingURL=index.40b04aa5.js.map
