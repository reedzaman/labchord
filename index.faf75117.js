function e(e,t,n,l){Object.defineProperty(e,t,{get:n,set:l,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},l={},s=t.parcelRequire5589;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in l){var t=l[e];delete l[e];var s={id:e,exports:{}};return n[e]=s,t.call(s.exports,s,s.exports),s.exports}var d=new Error("Cannot find module '"+e+"'");throw d.code="MODULE_NOT_FOUND",d}).register=function(e,t){l[e]=t},t.parcelRequire5589=s),s.register("jjlwn",(function(t,n){e(t.exports,"addNotification",(()=>s)),e(t.exports,"addMsg",(()=>d)),e(t.exports,"addOwnMsg",(()=>a));let l="";function s(e){if("flex"===document.getElementsByClassName("main-box")[0].style.display){let t=document.createElement("div"),n=document.getElementsByClassName("msg-box")[0];t.classList.add("notification"),t.innerText=e,n.appendChild(t),l="notification",n.scrollTop=n.scrollHeight}}function d(e,t,n,s){if("flex"===document.getElementsByClassName("main-box")[0].style.display){let d=document.getElementsByClassName("msg-box")[0],a=document.createElement("h1");a.classList.add("owner-name"),l!==n&&(a.innerText=t);let i=document.createElement("div");i.classList.add("owner-photo-image"),l!==n&&(i.style.backgroundImage=`url('https://icotar.com/avatar/${t.replace(/ /g,"+")}')`);let o=document.createElement("div");o.classList.add("owner-photo"),o.appendChild(i);let m=document.createElement("div");if(m.classList.add("msg-content"),"text"===s){let t=document.createElement("div");t.classList.add("msg-text"),t.innerText=e,m.appendChild(o),m.appendChild(t)}else if("image"===s){let t=document.createElement("img");t.classList.add("msg-image"),t.src=e,m.appendChild(o),m.appendChild(t)}let c=document.createElement("div");c.classList.add("msg-block"),l===n&&c.classList.add("msg-block-close"),c.appendChild(a),c.appendChild(m),l!==n&&(l=n),d.appendChild(c),d.scrollTop=d.scrollHeight}}function a(e,t){if("flex"===document.getElementsByClassName("main-box")[0].style.display){let n=document.getElementsByClassName("msg-box")[0],s=document.createElement("div");if(s.classList.add("msg-content"),"text"===t){let t=document.createElement("div");t.classList.add("msg-text"),t.innerText=e,s.appendChild(t)}else if("image"===t){let t=document.createElement("img");t.classList.add("msg-image"),t.src=e,s.appendChild(t)}let d=document.createElement("div");d.classList.add("msg-block"),d.classList.add("msg-block-own"),"own"===l&&d.classList.add("msg-block-close"),d.appendChild(s),l="own",n.appendChild(d),n.scrollTop=n.scrollHeight}}})),s.register("7BOf4",(function(t,n){function l(e){let t=document.getElementsByClassName("typing-indicator")[0],n=Object.values(e);if(n=n.map((e=>e.split(" ")[0])),n.length>1){let e=n.pop();n.push(n.pop()+" and"),n.push(e)}let l=n.toString();if(console.log(n),l=l.toString().replace(/,/g,", "),console.log(l),l=n.length>1?`${l} are typing`:1===n.length?`${l} is typing`:"",t.innerText=l,""!==l){let e=document.createElement("img");e.src="./assets/typing.gif",e.style.width="30px",e.style.height="15px",e.style.marginTop="auto",t.appendChild(e)}}function s(){let e=document.getElementById("themeIcon");document.getElementsByTagName("body")[0].classList.toggle("dark"),"light_mode"===e.innerText?e.innerText="dark_mode":e.innerText="light_mode"}e(t.exports,"updateTyping",(()=>l)),e(t.exports,"toggleTheme",(()=>s))}));var d=s("eSQOb"),a=s("jjlwn"),i=s("7BOf4");let o="",m="Anonymous";const c=document.querySelector("form"),r=document.getElementById("textInputBox"),g=document.querySelector('input[type="file"]');document.getElementById("sendName").addEventListener("click",(()=>{let e=document.getElementById("username").value,t=document.getElementById("profileImg"),n=document.getElementById("profileName");""!==e&&(m=e),d.socket.emit("setName",m),t.src=`https://icotar.com/avatar/${m.replace(/ /g,"+")}`,t.style.visibility="unset",n.innerText=m,n.style.visibility="unset",document.getElementsByClassName("name-box")[0].style.display="none",document.getElementsByClassName("main-box")[0].style.display="flex",document.getElementsByClassName("msg-input")[0].focus()})),document.querySelector("#theme").addEventListener("click",(()=>{(0,i.toggleTheme)()})),c.addEventListener("submit",(e=>{""===o?((0,a.addOwnMsg)(r.value,"text"),d.socket.emit("send",r.value,"text"),r.value=""):((0,a.addOwnMsg)(o,"image"),d.socket.emit("send",o,"image"),o="",document.getElementById("imageInputButton").value="",document.getElementById("textInputBox").style.width="75%",document.getElementById("textInputBox").removeAttribute("disabled"),document.getElementById("textInputBox").focus(),document.getElementById("imagePreviewWrapper").style.display="none")})),g.addEventListener("change",(e=>{let t=document.createElement("canvas"),n=t.getContext("2d");const l=new FileReader;l.onload=()=>{let e,s,d;const a=new Image;a.src=l.result,a.onload=()=>{e=a.naturalHeight,s=a.naturalWidth,d=e/s,t.width=220,t.height=t.width*d,n.drawImage(a,0,0,t.width,t.height),o=t.toDataURL(),console.log(o)},document.getElementById("imagePreview").src=l.result,document.getElementById("imagePreviewWrapper").style.display="unset",document.getElementById("textInputBox").style.width="65%",document.getElementById("textInputBox").disabled=!0},l.readAsDataURL(g.files[0])}),!1);
//# sourceMappingURL=index.faf75117.js.map
